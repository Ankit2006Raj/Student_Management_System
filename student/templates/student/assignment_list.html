{% extends 'base.html' %}
{% block title %}Assignments{% endblock %}
{% block content %}
<div class="card">
    <div class="header-actions">
        <h2><i class="fas fa-tasks"></i> Assignments</h2>
        <div style="display: flex; gap: 10px;">
            <a href="{% url 'dashboard' %}" class="btn btn-secondary"><i class="fas fa-home"></i> Dashboard</a>
            <a href="{% url 'assignment_create' %}" class="btn btn-primary"><i class="fas fa-plus"></i> Create
                Assignment</a>
        </div>
    </div>

    {% if assignments %}
    <div
        style="display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 20px; margin-top: 30px;">
        {% for assignment in assignments %}
        <div
            style="background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(236, 72, 153, 0.05) 100%); padding: 25px; border-radius: 16px; border: 2px solid var(--border);">
            <h3 style="margin-bottom: 10px; color: var(--primary);">{{ assignment.title }}</h3>
            <p style="color: var(--gray); margin-bottom: 15px;"><i class="fas fa-book"></i> {{ assignment.course.name }}
            </p>
            <p style="color: var(--gray); margin-bottom: 15px;">{{ assignment.description|truncatewords:20 }}</p>

            <div style="margin-bottom: 15px;">
                <p style="color: var(--gray);"><i class="fas fa-calendar"></i> Due: {{ assignment.due_date|date:"M d, Y"
                    }}</p>
                <p style="color: var(--gray);"><i class="fas fa-star"></i> Marks: {{ assignment.total_marks }}</p>
            </div>

            {% if assignment.is_overdue %}
            <span style="color: var(--danger); font-weight: 600;"><i class="fas fa-exclamation-circle"></i>
                Overdue</span>
            {% else %}
            <span style="color: var(--success); font-weight: 600;"><i class="fas fa-check-circle"></i> Active</span>
            {% endif %}

            <div style="display: flex; gap: 10px; margin-top: 15px;">
                <a href="{% url 'assignment_detail' assignment.pk %}" class="btn btn-primary" style="flex: 1;">
                    <i class="fas fa-eye"></i> View
                </a>
                <a href="{% url 'assignment_update' assignment.pk %}" class="btn btn-secondary">
                    <i class="fas fa-edit"></i>
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <i class="fas fa-tasks"></i>
        <h3>No Assignments</h3>
        <p>Create your first assignment.</p>
        <a href="{% url 'assignment_create' %}" class="btn btn-primary"><i class="fas fa-plus"></i> Create
            Assignment</a>
    </div>
    {% endif %}
</div>
{% endblock %}