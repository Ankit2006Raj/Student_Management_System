{% extends 'base.html' %}
{% block title %}Courses{% endblock %}
{% block content %}
<div class="card">
    <div class="header-actions">
        <h2><i class="fas fa-book"></i> All Courses</h2>
        <div style="display: flex; gap: 10px;">
            <a href="{% url 'dashboard' %}" class="btn btn-secondary"><i class="fas fa-home"></i> Dashboard</a>
            <a href="{% url 'course_create' %}" class="btn btn-primary"><i class="fas fa-plus"></i> Add Course</a>
        </div>
    </div>

    {% if courses %}
    <div
        style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-top: 30px;">
        {% for course in courses %}
        <div
            style="background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(236, 72, 153, 0.05) 100%); padding: 25px; border-radius: 16px; border: 2px solid var(--border); transition: all 0.3s ease;">
            <h3 style="margin-bottom: 10px; color: var(--primary);">{{ course.code }}</h3>
            <h4 style="margin-bottom: 15px; color: var(--dark);">{{ course.name }}</h4>
            <p style="color: var(--gray); margin-bottom: 15px;">{{ course.description|truncatewords:20 }}</p>

            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <span style="color: var(--gray);"><i class="fas fa-credit-card"></i> {{ course.credits }} Credits</span>
                <span style="color: var(--gray);"><i class="fas fa-users"></i> {{ course.get_enrolled_students_count }}
                    Students</span>
            </div>

            {% if course.teacher %}
            <p style="color: var(--gray); margin-bottom: 15px;"><i class="fas fa-chalkboard-teacher"></i> {{
                course.teacher.get_full_name }}</p>
            {% endif %}

            <div style="display: flex; gap: 10px;">
                <a href="{% url 'course_detail' course.pk %}" class="btn btn-primary" style="flex: 1; padding: 10px;">
                    <i class="fas fa-eye"></i> View
                </a>
                <a href="{% url 'course_update' course.pk %}" class="btn btn-secondary" style="padding: 10px;">
                    <i class="fas fa-edit"></i>
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <i class="fas fa-book"></i>
        <h3>No Courses Found</h3>
        <p>Start by creating your first course.</p>
        <a href="{% url 'course_create' %}" class="btn btn-primary"><i class="fas fa-plus"></i> Add Course</a>
    </div>
    {% endif %}
</div>
{% endblock %}